<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JustPaste O.B</title>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: 50px auto;
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    label {display:block; margin-bottom:6px; font-weight:bold;}
    input, select {width:100%; padding:12px; border:1px solid #ccc; border-radius:8px; margin-bottom:15px; font-size:14px;}
    #editor {height:200px; background:white; margin-bottom:15px;}
    button {padding:12px 25px; border:none; border-radius:8px; cursor:pointer; font-size:16px;}
    .btn-primary {background:#6a11cb; color:white;}
    .btn-primary:hover {opacity:0.9;}
    .btn-secondary {background:#f0f0f0;}
    .btn-secondary:hover {background:#ddd;}
    .topbar {display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;}
    .content {border:1px solid #ccc; padding:15px; border-radius:8px; background:#fafafa;}
    h2, h3 {margin-top:0;}
  </style>
</head>
<body>
  <!-- üìå 1. Paste olu≈üturma ekranƒ± -->
  <div id="createScreen" class="container">
    <h2>JustPaste O.B - Yeni Paste</h2>
    <label for="title">Ba≈ülƒ±k</label>
    <input type="text" id="title" placeholder="Ba≈ülƒ±k girin (isteƒüe baƒülƒ±)">

    <label>ƒ∞√ßerik *</label>
    <div id="editor"></div>

    <div style="display:flex; gap:20px; margin-bottom:15px;">
      <div style="flex:1;">
        <label for="syntax">S√∂zdizimi Vurgulamasƒ±</label>
        <select id="syntax">
          <option>Metin</option>
          <option>HTML</option>
          <option>CSS</option>
          <option>JavaScript</option>
        </select>
      </div>
      <div style="flex:1;">
        <label for="expiry">Son Kullanma</label>
        <select id="expiry">
          <option>Hi√ßbir Zaman</option>
          <option>10 dakika</option>
          <option>1 saat</option>
          <option>1 g√ºn</option>
        </select>
      </div>
    </div>

    <label for="password">≈ûifre (isteƒüe baƒülƒ±)</label>
    <input type="password" id="password" placeholder="≈ûifre girin (isteƒüe baƒülƒ±)">

    <div style="display:flex; gap:10px;">
      <button class="btn-primary" onclick="createPaste()">Paste Olu≈ütur</button>
      <button class="btn-secondary" type="reset" onclick="newPaste()">Temizle</button>
    </div>
  </div>

  <!-- üìå 2. ≈ûifre ekranƒ± -->
  <div id="passwordScreen" class="container" style="display:none;">
    <h3>≈ûifre Gerekli</h3>
    <input type="password" id="passwordInput" placeholder="≈ûifreyi girin">
    <button class="btn-primary" onclick="checkPassword()">Onayla</button>
  </div>

  <!-- üìå 3. Paste g√∂r√ºnt√ºleme ekranƒ± -->
  <div id="viewScreen" class="container" style="display:none;">
    <div class="topbar">
      <span id="views">üëÅ G√∂r√ºnt√ºlenme: 0</span>
      <div>
        <button class="btn-secondary" onclick="copyPaste()">üìã Kopyala</button>
        <button class="btn-secondary" onclick="downloadPaste()">‚¨áÔ∏è ƒ∞ndir</button>
        <button class="btn-secondary" onclick="sharePaste()">üîó Payla≈ü</button>
        <button class="btn-secondary" onclick="newPaste()">‚ûï Yeni Paste</button>
      </div>
    </div>
    <h2 id="pasteTitle"></h2>
    <div class="content" id="pasteContent"></div>
  </div>

  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  <script>
    var quill = new Quill('#editor', { theme: 'snow' });
    let paste = null;

    function createPaste() {
      paste = {
        title: document.getElementById('title').value,
        content: quill.root.innerHTML,
        syntax: document.getElementById('syntax').value,
        expiry: document.getElementById('expiry').value,
        password: document.getElementById('password').value,
        views: 0
      };
      if (!paste.content.trim()) {
        alert("L√ºtfen i√ßerik girin!");
        return;
      }
      document.getElementById("createScreen").style.display = "none";
      if (paste.password) {
        document.getElementById("passwordScreen").style.display = "block";
      } else {
        showPaste();
      }
    }

    function checkPassword() {
      const entered = document.getElementById("passwordInput").value;
      if (entered === paste.password) {
        document.getElementById("passwordScreen").style.display = "none";
        showPaste();
      } else {
        alert("Yanlƒ±≈ü ≈üifre!");
      }
    }

    function showPaste() {
      document.getElementById("viewScreen").style.display = "block";
      paste.views++;
      document.getElementById("views").textContent = "üëÅ G√∂r√ºnt√ºlenme: " + paste.views;
      document.getElementById("pasteTitle").textContent = paste.title || "Ba≈ülƒ±ksƒ±z";
      document.getElementById("pasteContent").innerHTML = paste.content;
    }

    function copyPaste() {
      navigator.clipboard.writeText(paste.content.replace(/<[^>]*>?/gm, ''));
      alert("ƒ∞√ßerik kopyalandƒ±!");
    }

    function downloadPaste() {
      const blob = new Blob([paste.content], {type:"text/html"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = (paste.title || "paste") + ".html";
      a.click();
    }

    function sharePaste() {
      alert("Buraya payla≈üƒ±m linki eklenebilir (≈üu an demo).");
    }

    function newPaste() {
      paste = null;
      quill.root.innerHTML = "";
      document.getElementById("title").value = "";
      document.getElementById("password").value = "";
      document.getElementById("passwordInput").value = "";
      document.getElementById("syntax").value = "Metin";
      document.getElementById("expiry").value = "Hi√ßbir Zaman";
      document.getElementById("viewScreen").style.display = "none";
      document.getElementById("passwordScreen").style.display = "none";
      document.getElementById("createScreen").style.display = "block";
    }
  </script>
</body>
</html>
